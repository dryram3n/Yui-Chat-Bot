/* Basic Reset & Font */
body, html {
    height: 100%;
    margin: 0;
    font-family: sans-serif; /* Consider a base font */
    overflow: hidden; /* Prevent body scrollbars if app-container handles scrolling */
    padding: 0;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    color: #ccc;
}

.app-container {
    display: flex;
    height: 100vh; /* Full viewport height */
    width: 100vw; /* Full viewport width */
    overflow: hidden; /* Prevent app-container scroll, let children scroll */
}

/* --- Avatar Placeholder Styling --- */
.avatar-placeholder {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: linear-gradient(135deg, #555, #333); /* Default gradient */
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px auto;
    border: 3px solid #444;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    transition: background 0.4s ease, border-color 0.4s ease;
    position: relative;
    overflow: hidden;
}

.avatar-placeholder img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    position: absolute;
    top: 0;
    left: 0;
}

#yuiAvatarInitials {
    font-size: 3em;
    font-weight: bold;
    opacity: 0.7;
    user-select: none;
    z-index: 1; /* Make sure initials appear above the image if needed */
}

/* Add a placeholder animation for when image is loading */
.avatar-loading {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, rgba(255,255,255,0.1), rgba(255,255,255,0.2), rgba(255,255,255,0.1));
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
    z-index: 2;
}

@keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* --- Sidebar Enhancements --- */
.sidebar {
    width: 25%; /* Example: 25% of viewport width */
    max-width: 300px; /* Max width for sidebar */
    min-width: 200px; /* Min width for sidebar */
    background-color: #333; /* Example color */
    color: white;
    padding: 15px;
    display: flex;
    flex-direction: column;
    overflow-y: auto; /* Allow sidebar to scroll if content overflows */
    flex-shrink: 0; /* Prevent sidebar from shrinking too much */
}

.profile-preview {
    text-align: center;
    margin-bottom: 30px; /* MODIFIED */
}

.profile-preview h2 {
    color: #e0e0e0;
    font-weight: 600;
    margin-top: 5px;
    margin-bottom: 5px;
}

.profile-preview p {
    color: #888;
    font-size: 0.9em;
}

.sidebar nav button {
    display: block;
    width: 100%;
    padding: 14px 20px;
    margin-bottom: 10px;
    background-color: transparent;
    color: #aaa;
    border: none; /* Remove border, use border-left for active */
    border-left: 3px solid transparent; /* Placeholder for active state */
    border-radius: 8px; /* ADDED for consistency */
    text-align: left;
    cursor: pointer;
    font-size: 1.05em;
    transition: background-color 0.2s ease, color 0.2s ease, border-left-color 0.2s ease;
}

.sidebar nav button.active, .sidebar nav button:hover {
    background-color: rgba(0, 120, 212, 0.15);
    color: #00aeff;
    border-left: 3px solid #00aeff;
}

/* Status Panel Styling (for Yui's status and User Profile) */
.status-panel {
    padding: 15px;
    margin-top: 20px;
    background-color: rgba(255, 255, 255, 0.03);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.07);
}

.status-panel h3 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #00aeff;
    font-size: 1.1em;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 5px;
}

.status-panel p, .status-panel li {
    font-size: 0.85em;
    color: #bbb;
    margin-bottom: 5px;
    line-height: 1.4;
}
.status-panel span {
    color: #e0e0e0;
    font-weight: 500;
}

.user-profile h4 {
    font-size: 0.9em;
    color: #00aeff;
    margin-top: 15px;
    margin-bottom: 8px;
}

.user-profile ul {
    list-style: none;
    padding-left: 0;
}

/* --- Emotion Panel Styling --- */
.emotion-panel {
    text-align: center; /* Center the face */
    padding: 15px;
    margin-top: 20px;
    background-color: rgba(255, 255, 255, 0.03); /* Consistent with other panels */
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.07); /* Consistent with other panels */
}

.emotion-panel h3 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #00aeff; /* Consistent with other panel headers */
    font-size: 1.1em;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 5px;
}

.emotion-face {
    font-size: 3.5em; /* Make the emoji large */
    line-height: 1;
    padding: 10px 0;
    color: #e0e0e0; /* Default color for the face */
    transition: transform 0.2s ease-in-out, color 0.2s ease-in-out;
}

/* Theme-specific adjustments for emotion panel */
body.theme-light-mode .emotion-panel {
    background-color: #fdfdfd;
    border-color: #eee;
}
body.theme-light-mode .emotion-panel h3 {
    color: #0078d4;
    border-bottom-color: #eee;
}
body.theme-light-mode .emotion-face {
    color: #333;
}

body.theme-cyberpunk-dream .emotion-panel {
    background-color: #241b47c0;
    border: 1px solid #ff00ff;
}
body.theme-cyberpunk-dream .emotion-panel h3 {
    color: #00f0ff;
    border-bottom: 1px solid #3a2f6b;
}
body.theme-cyberpunk-dream .emotion-face {
    color: #00f0ff;
    text-shadow: 0 0 5px #00f0ff;
}

body.theme-oled-black .emotion-panel {
    background-color: #0a0a0a;
    border-color: #1f1f1f;
}
body.theme-oled-black .emotion-panel h3 {
    color: #00bbff; /* Brighter for OLED */
    border-bottom-color: #252525;
}
body.theme-oled-black .emotion-face {
    color: #f0f0f0;
}

body.theme-ocean-vibe .emotion-panel {
    background-color: #004866;
    border-color: #005c80;
}
body.theme-ocean-vibe .emotion-panel h3 {
    color: #ffc107; /* Accent color */
    border-bottom-color: #006080;
}
body.theme-ocean-vibe .emotion-face {
    color: #e0f7fa;
}

body.theme-retro-gaming .emotion-panel {
    background-color: #1f4068;
    border: 2px solid #00aaff;
}
body.theme-retro-gaming .emotion-panel h3 {
    color: #ffc947;
    border-bottom: 2px solid #e43f5a;
    text-shadow: 1px 1px #1a1a2e;
}
body.theme-retro-gaming .emotion-face {
    color: #00ff00; /* Green, like game text */
    text-shadow: 1px 1px #1a1a2e;
}

body.theme-purple-haze .emotion-panel {
    background-color: #4a0072;
    border-color: #6a1b9a;
}
body.theme-purple-haze .emotion-panel h3 {
    color: #f06292; /* Accent color */
    border-bottom-color: #7b1fa2;
}
body.theme-purple-haze .emotion-face {
    color: #e6e6fa;
}

body.theme-stoners-paradise .emotion-panel {
    background-color: #3b4a20;
    border-color: #556b2f;
}
body.theme-stoners-paradise .emotion-panel h3 {
    color: #ffb300; /* Accent color */
    border-bottom-color: #556b2f;
}
body.theme-stoners-paradise .emotion-face {
    color: #e8f5e9;
}

body.theme-green-leaf-vibes .emotion-panel {
    background-color: #2e7d32;
    border-color: #43a047;
}
body.theme-green-leaf-vibes .emotion-panel h3 {
    color: #ffeb3b; /* Accent color */
    border-bottom-color: #43a047;
}
body.theme-green-leaf-vibes .emotion-face {
    color: #e8f5e9;
}

/* --- Main Content Area --- */
.main-content {
    flex-grow: 1; /* Takes remaining space */
    padding: 15px;
    display: flex;
    flex-direction: column; /* Stack views vertically */
    overflow: hidden; /* Let views handle their own scrolling */
}

.view {
    display: none; /* Hidden by default */
    flex-direction: column;
    height: 100%; /* Make view take full height of main-content */
    overflow: hidden; /* Prevent view itself from scrolling, let its children scroll */
}

.view.active-view {
    display: flex; /* Show active view */
}

/* --- Chat View Enhancements --- */
/* #chatView {
    flex-direction: column; already set by .view.active-view
} */

.chat-header {
    font-size: 1.6em;
    color: #00aeff;
    padding: 15px 20px; /* MODIFIED */
    border-bottom: 1px solid #303035;
    margin-bottom: 0;
    font-weight: 600;
    background-color: #25252c; /* Header background */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#clearChatButton {
    font-size: 0.6em; /* Smaller font for the button */
    padding: 6px 12px;
    background-color: #444;
    color: #ccc;
    border: 1px solid #555;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.2s ease;
    margin-left: 10px; /* ADDED for spacing */
}
#clearChatButton:hover {
    background-color: #555;
    color: #fff;
}

/* ADDED styling for the new reset button */
#resetChatStateButton {
    background-color: #583030; /* A slightly different, more "warning" color */
    color: #f0d0d0;
    border: 1px solid #7a4040;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.8em;
    margin-left: 5px; /* Space it from the clear chat button */
    transition: background-color 0.2s ease, color 0.2s ease;
}

#resetChatStateButton:hover {
    background-color: #7a4040;
    color: #fff;
}

.chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px; /* MODIFIED */
    background-color: #1c1c21;
}

.message {
    margin-bottom: 15px;
    padding: 10px 18px;
    border-radius: 20px;
    max-width: 75%;
    line-height: 1.5;
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    word-wrap: break-word; /* Ensure long words break */
    position: relative; /* For timestamp positioning */
}

.message .timestamp {
    font-size: 0.7em;
    color: rgba(255, 255, 255, 0.5);
    position: absolute;
    bottom: -15px; /* Adjust as needed */
    right: 10px;
    opacity: 0.7;
}

.user-message .timestamp {
    color: rgba(255, 255, 255, 0.7);
}
.yui-message .timestamp {
    left: 10px;
    right: auto;
}

.user-message {
    background: linear-gradient(to right, #0078d4, #005a9e);
    color: white;
    margin-left: auto;
    border-bottom-right-radius: 8px;
}

.yui-message {
    background-color: #2b2b33;
    color: #ddd;
    margin-right: auto;
    border-bottom-left-radius: 8px;
}
.yui-message.typing-indicator {
    font-style: italic;
    color: #888;
}


.system-info { /* For system messages like stage changes */
    font-style: italic;
    color: #777;
    text-align: center;
    font-size: 0.85em;
    margin-bottom: 10px;
    padding: 5px;
}


.chat-input-area {
    position: relative; /* For positioning the mirror */
    display: flex; /* Align input and button */
    align-items: center;
    padding: 5px;
    background-color: var(--input-background-color, #2c2c2c); /* Match theme or default */
    border-radius: 4px;
}

#userInputMirror {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%; /* Cover the area of the input field */
    height: 100%;
    padding: 12px 10px; /* MODIFIED: Increased vertical padding */
    border: 1px solid transparent; /* Align with input, but border is on input */
    border-radius: 4px; /* Match input */
    white-space: pre-wrap; /* Allow text to wrap like in an input */
    word-wrap: break-word;
    z-index: 1; /* Behind the actual input */
    pointer-events: none; /* Allow clicks to pass through to the input */
    color: var(--text-color, #ccc); /* Default text color for the mirror */
    font-family: inherit;
    font-size: inherit;
    line-height: inherit; /* Consider adjusting if needed, e.g., line-height: 1.4; */
    box-sizing: border-box; /* Ensure padding is included in width/height */
}

#userInput {
    flex-grow: 1;
    padding: 12px 10px; /* MODIFIED: Increased vertical padding */
    border: 1px solid var(--border-color, #555);
    border-radius: 4px;
    background-color: transparent; /* Input itself is transparent */
    color: transparent; /* Text color is transparent, caret will still be visible */
    caret-color: var(--text-color, #ccc); /* Make caret visible, match theme */
    position: relative;
    z-index: 2; /* Above the mirror */
    font-family: inherit; /* Ensure font consistency */
    font-size: inherit;
    line-height: inherit; /* Consider adjusting if needed, e.g., line-height: 1.4; */
    outline: none; /* Remove default focus outline if you handle it via border */
    box-sizing: border-box; /* ADDED: for consistent sizing */
}

#userInput:focus {
    border-color: var(--accent-color, #007bff); /* Highlight focus */
}

.misspelled-word-segment {
    text-decoration: red wavy underline;
    background-color: transparent; /* Ensure no background overrides */
}

/* Adjust sendMessageButton if necessary */
#sendMessageButton {
    margin-left: 5px;
    padding: 10px 15px; /* Ensure button padding is appropriate for new input height */
    /* You might need to adjust button padding or use align-self if it looks misaligned */
}

.chat-input-area input {
    flex-grow: 1;
    padding: 10px 15px; /* MODIFIED */
    border: 1px solid #3a3a40;
    border-radius: 20px;
    background-color: #1e1e1e;
    color: #ccc;
    margin-right: 10px;
    font-size: 1em;
}
.chat-input-area input:focus {
    outline: none;
    border-color: #0078d4;
    box-shadow: 0 0 0 2px rgba(0, 120, 212, 0.3);
}

.chat-input-area button {
    padding: 10px 20px; /* MODIFIED */
    background-color: #0078d4;
    color: white;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-size: 1em;
    transition: background-color 0.2s ease;
}
.chat-input-area button:hover {
    background-color: #005a9e;
}

/* --- Settings & Dashboard View Enhancements --- */
#settingsView, #dashboardView {
    padding: 20px; /* MODIFIED */
}

#settingsView h1, #dashboardView h1 {
    color: #00aeff;
    border-bottom: 2px solid #303035;
    padding-bottom: 10px;
    margin-top: 0; /* Remove default h1 margin */
    margin-bottom: 25px;
    font-weight: 600;
}
.settings-section {
    margin-bottom: 25px;
}

.settings-section label {
    display: block;
    margin-bottom: 8px;
    color: #aaa;
    font-weight: 500;
}
.settings-section input[type="password"],
.settings-section input[type="text"],
.settings-section select {
    padding: 10px 15px; /* MODIFIED */
    border-radius: 6px;
    border: 1px solid #3a3a40;
    background-color: #2d2d2d;
    color: #ccc;
    width: calc(100% - 32px); /* MODIFIED: 2*15px padding + 2*1px border */
    margin-bottom: 10px; /* Space below input/select */
    font-size: 0.95em;
    box-sizing: border-box;
}
.settings-section input:focus, .settings-section select:focus {
    outline: none;
    border-color: #0078d4;
    box-shadow: 0 0 0 2px rgba(0, 120, 212, 0.3);
}

.settings-section button { /* General button styling in settings */
    padding: 10px 20px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
    font-size: 0.95em;
    transition: background-color 0.2s ease, opacity 0.2s ease;
    margin-top: 5px; /* Space above button if it's after an input */
}
#saveApiKeyButton {
    background-color: #0078d4;
    color: white;
    /* margin-left: 10px; /* If next to input, but now it's block */
}
#saveApiKeyButton:hover {
    background-color: #005a9e;
}

.danger-button {
    background-color: #d9534f;
    color: white;
}
.danger-button:hover {
    background-color: #c9302c;
    opacity: 0.9;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 25px;
    height: 100%;
    overflow-y: auto;
}
.chart-container, .info-panel {
    background-color: #2a2a30;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    height: 350px; /* Increased from 300px */
    position: relative; /* For absolute positioning of canvas */
    overflow: hidden;
}
.chart-container canvas {
    position: absolute;
    top: 50px; /* Account for the h3 header */
    left: 0;
    right: 0;
    bottom: 0;
    width: 100% !important;
    height: calc(100% - 60px) !important; /* Account for padding and header */
}
.info-panel {
    height: auto; /* Allow info panel to size naturally */
    max-height: 300px;
    overflow-y: auto;
}

/* --- Theme: Light Mode --- */
body.theme-light-mode {
    color: #222;
}
body.theme-light-mode .sidebar {
    background-color: #e8e8f0;
    border-right: 1px solid #c5c5d0;
    box-shadow: 2px 0 15px rgba(0,0,0,0.05);
}
body.theme-light-mode .avatar-placeholder {
    background: linear-gradient(135deg, #ccc, #aaa);
    border-color: #bbb;
    color: #333;
}
body.theme-light-mode .profile-preview h2 { color: #333; }
body.theme-light-mode .profile-preview p { color: #666; }

body.theme-light-mode .sidebar nav button {
    color: #555;
}
body.theme-light-mode .sidebar nav button.active,
body.theme-light-mode .sidebar nav button:hover {
    background-color: rgba(0, 100, 180, 0.1);
    color: #0064b4;
    border-left: 3px solid #0064b4;
}
body.theme-light-mode .main-content { background-color: #f4f4f8; }
body.theme-light-mode .chat-header {
    color: #0064b4;
    border-bottom: 1px solid #d0d0d5;
    background-color: #e8e8f0;
}
body.theme-light-mode .chat-messages { background-color: #f4f4f8; }
body.theme-light-mode .yui-message {
    background-color: #e0e0e5;
    color: #333;
    box-shadow: 0 2px 5px rgba(0,0,0,0.08);
}
body.theme-light-mode .user-message {
    background: linear-gradient(to right, #0078d4, #005a9e);
    color: white;
}
body.theme-light-mode .system-info { color: #555; }
body.theme-light-mode .chat-input-area {
    border-top: 1px solid #d0d0d5;
    background-color: #e8e8f0;
}
body.theme-light-mode .chat-input-area input {
    border: 1px solid #c5c5d0;
    background-color: #fff;
    color: #333;
}
body.theme-light-mode .chat-input-area input:focus {
    border-color: #0078d4;
    box-shadow: 0 0 0 2px rgba(0, 120, 212, 0.2);
}
body.theme-light-mode #settingsView h1, body.theme-light-mode #dashboardView h1 {
    color: #0064b4;
    border-bottom: 2px solid #d0d0d5;
}
body.theme-light-mode .settings-section label { color: #555; }
body.theme-light-mode .settings-section input[type="password"],
body.theme-light-mode .settings-section input[type="text"],
body.theme-light-mode .settings-section select {
    border: 1px solid #c5c5d0;
    background-color: #fff;
    color: #333;
}
body.theme-light-mode .settings-section input:focus,
body.theme-light-mode .settings-section select:focus {
    border-color: #0078d4;
    box-shadow: 0 0 0 2px rgba(0, 120, 212, 0.2);
}
body.theme-light-mode .chart-container,
body.theme-light-mode .info-panel {
    background-color: #ffffff;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    border: 1px solid #e0e0e0;
}
body.theme-light-mode .chart-container h3, body.theme-light-mode .info-panel h3 {
    color: #0064b4;
    border-bottom: 1px solid #d5d5da;
}
body.theme-light-mode .info-panel li { border-bottom: 1px solid #eee; color: #555; }
body.theme-light-mode .status-panel { background-color: #fdfdfd; border-color: #eee; }
body.theme-light-mode .status-panel h3 { color: #0078d4; border-bottom-color: #eee; }
body.theme-light-mode .status-panel p, body.theme-light-mode .status-panel li { color: #555; }
body.theme-light-mode .status-panel span { color: #222; }
body.theme-light-mode .user-profile h4 { color: #0078d4; }
body.theme-light-mode .message .timestamp { color: rgba(0,0,0,0.4); }
body.theme-light-mode .user-message .timestamp { color: rgba(0,0,0,0.5); }
body.theme-light-mode .yui-message .timestamp { color: rgba(0,0,0,0.5); }

/* ADDED: Light mode style for reset button */
body.theme-light-mode #resetChatStateButton {
    background-color: #f8e0e0;
    color: #a13030;
    border-color: #d17070;
}
body.theme-light-mode #resetChatStateButton:hover {
    background-color: #e7c0c0;
    color: #802020;
}

/* --- Theme: Cyberpunk Dream --- */
body.theme-cyberpunk-dream {
    font-family: 'Consolas', 'Lucida Console', monospace;
    background-color: #0d0221;
    color: #00f0ff;
}
body.theme-cyberpunk-dream .sidebar {
    background-color: #241b47;
    border-right: 1px solid #ff00ff;
}
body.theme-cyberpunk-dream .avatar-placeholder {
    background: linear-gradient(135deg, #ff00ff, #3a2f6b);
    border-color: #00f0ff;
    box-shadow: 0 0 15px #00f0ff, 0 0 5px #ff00ff inset;
}
body.theme-cyberpunk-dream #yuiAvatarInitials {
    color: #00f0ff;
    text-shadow: 0 0 5px #00f0ff;
}
body.theme-cyberpunk-dream .profile-preview h2 { color: #00f0ff; text-shadow: 0 0 3px #00f0ff;}
body.theme-cyberpunk-dream .profile-preview p { color: #ff00ff; }

body.theme-cyberpunk-dream .sidebar nav button {
    background-color: #3a2f6b;
    color: #00f0ff;
    border-left: 3px solid transparent;
    text-shadow: 0 0 5px #00f0ff;
}
body.theme-cyberpunk-dream .sidebar nav button.active,
body.theme-cyberpunk-dream .sidebar nav button:hover {
    background-color: rgba(255, 0, 255, 0.2); /* Neon pink */
    color: #ff00ff;
    border-left: 3px solid #ff00ff;
    box-shadow: 0 0 10px #ff00ff;
}
body.theme-cyberpunk-dream .main-content {
    background-color: #100a30;
}
body.theme-cyberpunk-dream .chat-header {
    color: #ff00ff;
    border-bottom: 1px solid #00f0ff;
    text-shadow: 0 0 7px #ff00ff;
    background-color: #241b47;
}
body.theme-cyberpunk-dream .chat-messages {
    background-color: #100a30;
}
body.theme-cyberpunk-dream .user-message {
    background: linear-gradient(to right, #ff00ff, #8A2BE2); /* Neon pink to blue-violet */
    color: #0d0221;
    border: 1px solid #00f0ff;
    box-shadow: 0 0 5px #ff00ff;
}
body.theme-cyberpunk-dream .yui-message {
    background-color: #3a2f6b;
    color: #00f0ff;
    border: 1px solid #00f0ff;
    box-shadow: 0 0 5px #00f0ff;
}
body.theme-cyberpunk-dream .system-info { color: #ff00ff; opacity: 0.7;}
body.theme-cyberpunk-dream .chat-input-area {
    border-top: 1px solid #ff00ff;
    background-color: #241b47;
}
body.theme-cyberpunk-dream .chat-input-area input {
    border: 1px solid #ff00ff;
    background-color: #100a30;
    color: #00f0ff;
}
body.theme-cyberpunk-dream .chat-input-area input:focus {
    border-color: #00f0ff;
    box-shadow: 0 0 5px #00f0ff;
}
body.theme-cyberpunk-dream .chat-input-area button {
    background-color: #00f0ff;
    color: #0d0221;
    border: 1px solid #ff00ff;
}
body.theme-cyberpunk-dream .chat-input-area button:hover {
    background-color: #ff00ff;
    color: #0d0221;
    box-shadow: 0 0 10px #ff00ff;
}
body.theme-cyberpunk-dream #settingsView h1, body.theme-cyberpunk-dream #dashboardView h1 {
    color: #ff00ff;
    border-bottom: 2px solid #00f0ff;
}
body.theme-cyberpunk-dream .settings-section label { color: #ff00ff; }
body.theme-cyberpunk-dream .settings-section input[type="password"],
body.theme-cyberpunk-dream .settings-section input[type="text"],
body.theme-cyberpunk-dream .settings-section select {
    border: 1px solid #00f0ff;
    background-color: #241b47;
    color: #00f0ff;
}
body.theme-cyberpunk-dream .settings-section input:focus,
body.theme-cyberpunk-dream .settings-section select:focus {
    border-color: #ff00ff;
    box-shadow: 0 0 5px #ff00ff;
}
body.theme-cyberpunk-dream #saveApiKeyButton {
    background-color: #00f0ff; color: #0d0221;
}
body.theme-cyberpunk-dream #saveApiKeyButton:hover {
    background-color: #ff00ff;
}
body.theme-cyberpunk-dream .danger-button {
    background-color: #ff0033; color: #fff; border: 1px solid #ff00ff;
}
body.theme-cyberpunk-dream .danger-button:hover {
    background-color: #cc0022; box-shadow: 0 0 10px #ff0033;
}
body.theme-cyberpunk-dream .chart-container,
body.theme-cyberpunk-dream .info-panel {
    background-color: #241b47c0;
    border: 1px solid #ff00ff;
    box-shadow: 0 0 15px #00f0ffaa;
}
body.theme-cyberpunk-dream .chart-container h3, body.theme-cyberpunk-dream .info-panel h3 {
    color: #00f0ff;
    border-bottom: 1px solid #3a2f6b;
}
body.theme-cyberpunk-dream .info-panel li { border-bottom: 1px solid #3a2f6b; color: #00f0ff; }
body.theme-cyberpunk-dream #clearChatButton { background-color: #3a2f6b; color: #00f0ff; border-color: #ff00ff; }
body.theme-cyberpunk-dream #clearChatButton:hover { background-color: #ff00ff; color: #0d0221; }

/* ADDED: Cyberpunk style for reset button */
body.theme-cyberpunk-dream #resetChatStateButton {
    background-color: #6b2f4b;
    color: #ff70a6;
    border-color: #ff00ff;
}
body.theme-cyberpunk-dream #resetChatStateButton:hover {
    background-color: #ff00ff;
    color: #0d0221;
}

body.theme-cyberpunk-dream .message .timestamp { color: rgba(0, 240, 255, 0.5); }

/* --- Theme: OLED Black --- */
body.theme-oled-black { background-color: #000000; color: #e0e0e0; }
body.theme-oled-black .sidebar { background-color: #050505; border-right: 1px solid #1a1a1a; }
body.theme-oled-black .avatar-placeholder { background: linear-gradient(135deg, #181818, #080808); border: 3px solid #222; }
body.theme-oled-black #yuiAvatarInitials { color: #f0f0f0; }
body.theme-oled-black .profile-preview h2 { color: #f0f0f0; }
body.theme-oled-black .profile-preview p { color: #b0b0b0; }
body.theme-oled-black .status-panel { background-color: #0a0a0a; border-color: #1f1f1f; }
body.theme-oled-black .status-panel h3 { color: #00bbff; border-bottom-color: #252525; }
body.theme-oled-black .status-panel p, body.theme-oled-black .status-panel li { color: #a0a0a0; }
body.theme-oled-black .status-panel span { color: #d0d0d0; }
body.theme-oled-black .user-profile h4 { color: #00bbff; }
body.theme-oled-black .sidebar nav button { color: #b0b0b0; background-color: transparent; border-color: #1a1a1a; }
body.theme-oled-black .sidebar nav button.active, body.theme-oled-black .sidebar nav button:hover { background-color: #1a1a1a; color: #ffffff; border-color: #333; }
body.theme-oled-black .main-content { background-color: #000000; }
body.theme-oled-black .chat-header { background-color: #080808; border-bottom: 1px solid #1a1a1a; color: #f0f0f0; }
body.theme-oled-black .chat-messages { background-color: #000000; }
body.theme-oled-black .yui-message { background-color: #101010; color: #d0d0d0; border: 1px solid #202020; }
body.theme-oled-black .user-message { background-color: #181818; color: #d0d0d0; border: 1px solid #282828; }
body.theme-oled-black .system-info { color: #999999; }
body.theme-oled-black .chat-input-area { background-color: #050505; border-top: 1px solid #1a1a1a; }
body.theme-oled-black .chat-input-area input { background-color: #101010; color: #e0e0e0; border: 1px solid #252525; }
body.theme-oled-black .chat-input-area input:focus { border-color: #404040; box-shadow: 0 0 3px #404040; }
body.theme-oled-black .chat-input-area button { background-color: #222; color: #ccc; border: 1px solid #333; }
body.theme-oled-black .chat-input-area button:hover { background-color: #333; color: #fff; }
body.theme-oled-black #settingsView h1, body.theme-oled-black #dashboardView h1 { color: #f0f0f0; border-bottom: 1px solid #252525; }
body.theme-oled-black .settings-section label { color: #c0c0c0; }
body.theme-oled-black .settings-section input[type="password"],
body.theme-oled-black .settings-section input[type="text"],
body.theme-oled-black .settings-section select { background-color: #101010; color: #e0e0e0; border: 1px solid #252525; }
body.theme-oled-black .settings-section input:focus,
body.theme-oled-black .settings-section select:focus { border-color: #404040; box-shadow: 0 0 3px #404040; }
body.theme-oled-black .chart-container, body.theme-oled-black .info-panel { background-color: #080808; border: 1px solid #1a1a1a; }
body.theme-oled-black .chart-container h3, body.theme-oled-black .info-panel h3 { color: #e0e0e0; }
body.theme-oled-black .info-panel li { border-bottom: 1px solid #252525; color: #b0b0b0; }
body.theme-oled-black .primary-button { background-color: #007acc; color: #ffffff; border: 1px solid #005c99;}
body.theme-oled-black .primary-button:hover { background-color: #005c99; }
body.theme-oled-black .danger-button { background-color: #cc0000; border: 1px solid #990000;}
body.theme-oled-black .danger-button:hover { background-color: #990000; }
body.theme-oled-black #clearChatButton { background-color: #181818; color: #aaa; border-color: #282828; }
body.theme-oled-black #clearChatButton:hover { background-color: #282828; color: #ddd; }

/* ADDED: OLED style for reset button */
body.theme-oled-black #resetChatStateButton {
    background-color: #381818;
    color: #c0a0a0;
    border-color: #482828;
}
body.theme-oled-black #resetChatStateButton:hover {
    background-color: #482828;
    color: #e0c0c0;
}

body.theme-oled-black .message .timestamp { color: rgba(224, 224, 224, 0.4); }

/* --- Theme: Ocean Vibe --- */
body.theme-ocean-vibe { background-color: #00334d; color: #e0f7fa; }
body.theme-ocean-vibe .sidebar { background-color: #00405c; border-right: 1px solid #005073; }
body.theme-ocean-vibe .avatar-placeholder { background: linear-gradient(135deg, #007799, #005f7a); border: 3px solid #0099cc; }
body.theme-ocean-vibe #yuiAvatarInitials { color: #e0f7fa; }
body.theme-ocean-vibe .profile-preview h2 { color: #80dfff; }
body.theme-ocean-vibe .profile-preview p { color: #b3ecff; }
body.theme-ocean-vibe .status-panel { background-color: #004866; border-color: #005c80; }
body.theme-ocean-vibe .status-panel h3 { color: #ffc107; border-bottom-color: #006080; }
body.theme-ocean-vibe .status-panel p, body.theme-ocean-vibe .status-panel li { color: #b3e0f2; }
body.theme-ocean-vibe .status-panel span { color: #e0f7fa; }
body.theme-ocean-vibe .user-profile h4 { color: #ffc107; }
body.theme-ocean-vibe .sidebar nav button { color: #b3ecff; background-color: transparent; border-color: #005073; }
body.theme-ocean-vibe .sidebar nav button.active, body.theme-ocean-vibe .sidebar nav button:hover { background-color: #005073; color: #ffffff; border-color: #007799; }
body.theme-ocean-vibe .main-content { background-color: #00334d; }
body.theme-ocean-vibe .chat-header { background-color: #00405c; border-bottom: 1px solid #005073; color: #e0f7fa; }
body.theme-ocean-vibe .chat-messages { background-color: #00334d; }
body.theme-ocean-vibe .yui-message { background-color: #005073; color: #e0f7fa; border: 1px solid #006080; }
body.theme-ocean-vibe .user-message { background-color: #006080; color: #e0f7fa; border: 1px solid #007090; }
body.theme-ocean-vibe .system-info { color: #80dfff; }
body.theme-ocean-vibe .chat-input-area { background-color: #00405c; border-top: 1px solid #005073; }
body.theme-ocean-vibe .chat-input-area input { background-color: #005073; color: #e0f7fa; border: 1px solid #006080; }
body.theme-ocean-vibe .chat-input-area input:focus { border-color: #0099cc; box-shadow: 0 0 3px #0099cc; }
body.theme-ocean-vibe .chat-input-area button { background-color: #007799; color: #e0f7fa; border: 1px solid #0099cc; }
body.theme-ocean-vibe .chat-input-area button:hover { background-color: #0099cc; color: #fff; }
body.theme-ocean-vibe #settingsView h1, body.theme-ocean-vibe #dashboardView h1 { color: #e0f7fa; border-bottom: 1px solid #005073; }
body.theme-ocean-vibe .settings-section label { color: #b3ecff; }
body.theme-ocean-vibe .settings-section input[type="password"],
body.theme-ocean-vibe .settings-section input[type="text"],
body.theme-ocean-vibe .settings-section select { background-color: #005073; color: #e0f7fa; border: 1px solid #006080; }
body.theme-ocean-vibe .settings-section input:focus,
body.theme-ocean-vibe .settings-section select:focus { border-color: #0099cc; box-shadow: 0 0 3px #0099cc; }
body.theme-ocean-vibe .chart-container, body.theme-ocean-vibe .info-panel { background-color: #00405c; border: 1px solid #005073; }
body.theme-ocean-vibe .chart-container h3, body.theme-ocean-vibe .info-panel h3 { color: #e0f7fa; }
body.theme-ocean-vibe .info-panel li { border-bottom: 1px solid #005073; color: #b3ecff; }
body.theme-ocean-vibe .primary-button { background-color: #ffc107; color: #00334d; border: 1px solid #ffa000;}
body.theme-ocean-vibe .primary-button:hover { background-color: #ffa000; }
body.theme-ocean-vibe .danger-button { background-color: #d9534f; border: 1px solid #c9302c;}
body.theme-ocean-vibe .danger-button:hover { background-color: #c9302c; }
body.theme-ocean-vibe #clearChatButton { background-color: #005073; color: #b3ecff; border-color: #006080; }
body.theme-ocean-vibe #clearChatButton:hover { background-color: #006080; color: #e0f7fa; }

/* ADDED: Ocean Vibe style for reset button */
body.theme-ocean-vibe #resetChatStateButton {
    background-color: #004c66; /* Darker, distinct red-tinged blue */
    color: #ffcdd2; /* Light reddish text */
    border-color: #006080;
}
body.theme-ocean-vibe #resetChatStateButton:hover {
    background-color: #006080;
    color: #ffebef;
}

body.theme-ocean-vibe .message .timestamp { color: rgba(224, 247, 250, 0.5); }

/* --- Theme: Retro Gaming --- */
body.theme-retro-gaming { background-color: #1a1a2e; color: #00ff00; font-family: 'Press Start 2P', 'Courier New', monospace; }
body.theme-retro-gaming .sidebar { background-color: #162447; border-right: 2px solid #ffc947; }
body.theme-retro-gaming .avatar-placeholder { background: linear-gradient(135deg, #e43f5a, #1f4068); border: 3px solid #ffc947; image-rendering: pixelated; }
body.theme-retro-gaming #yuiAvatarInitials { color: #ffc947; text-shadow: 1px 1px #e43f5a; }
body.theme-retro-gaming .profile-preview h2 { color: #ffc947; text-shadow: 1px 1px #e43f5a; }
body.theme-retro-gaming .profile-preview p { color: #00ff00; }
body.theme-retro-gaming .status-panel { background-color: #1f4068; border: 2px solid #00aaff; font-size:0.9em; } /* Smaller font for pixel theme */
body.theme-retro-gaming .status-panel h3 { color: #ffc947; border-bottom: 2px solid #e43f5a; text-shadow: 1px 1px #1a1a2e; }
body.theme-retro-gaming .status-panel p, body.theme-retro-gaming .status-panel li { color: #00ff00; }
body.theme-retro-gaming .status-panel span { color: #ffff00; } /* Yellow for values */
body.theme-retro-gaming .user-profile h4 { color: #ffc947; }
body.theme-retro-gaming .sidebar nav button { color: #00ff00; background-color: #1f4068; border: 2px solid #00aaff; text-shadow: 1px 1px #1a1a2e; }
body.theme-retro-gaming .sidebar nav button.active, body.theme-retro-gaming .sidebar nav button:hover { background-color: #ffc947; color: #1a1a2e; border-color: #e43f5a; text-shadow: none; }
body.theme-retro-gaming .main-content { background-color: #1a1a2e; }
body.theme-retro-gaming .chat-header { background-color: #162447; border-bottom: 2px solid #ffc947; color: #ffc947; padding: 8px; font-size: 1.2em; }
body.theme-retro-gaming .chat-messages { background-color: #1a1a2e; }
body.theme-retro-gaming .yui-message { background-color: #1f4068; color: #00ff00; border: 2px solid #ffc947; box-shadow: 2px 2px #e43f5a; }
body.theme-retro-gaming .user-message { background-color: #e43f5a; color: #ffffff; border: 2px solid #ffc947; box-shadow: 2px 2px #1f4068; }
body.theme-retro-gaming .system-info { color: #00aaff; text-shadow: 1px 1px #162447; }
body.theme-retro-gaming .chat-input-area { background-color: #162447; border-top: 2px solid #ffc947; }
body.theme-retro-gaming .chat-input-area input { background-color: #1f4068; color: #00ff00; border: 2px solid #00aaff; padding: 8px; }
body.theme-retro-gaming .chat-input-area input:focus { border-color: #ffc947; box-shadow: 0 0 0 2px #ffc947; }
body.theme-retro-gaming .chat-input-area button { background-color: #ffc947; color: #1a1a2e; border: 2px solid #e43f5a; padding: 8px 12px; }
body.theme-retro-gaming .chat-input-area button:hover { background-color: #e43f5a; color: #ffc947; border-color: #ffc947; }
body.theme-retro-gaming #settingsView h1, body.theme-retro-gaming #dashboardView h1 { color: #ffc947; border-bottom: 2px solid #e43f5a; text-shadow: 1px 1px #1a1a2e; }
body.theme-retro-gaming .settings-section label { color: #00ff00; }
body.theme-retro-gaming .settings-section input[type="password"],
body.theme-retro-gaming .settings-section input[type="text"],
body.theme-retro-gaming .settings-section select { background-color: #1f4068; color: #00ff00; border: 2px solid #00aaff; font-family: 'Press Start 2P', 'Courier New', monospace; }
body.theme-retro-gaming .settings-section input:focus,
body.theme-retro-gaming .settings-section select:focus { border-color: #ffc947; box-shadow: 0 0 0 2px #ffc947; }
body.theme-retro-gaming .chart-container, body.theme-retro-gaming .info-panel { background-color: #162447; border: 2px solid #ffc947; }
body.theme-retro-gaming .chart-container h3, body.theme-retro-gaming .info-panel h3 { color: #ffc947; }
body.theme-retro-gaming .info-panel li { border-bottom: 2px solid #1f4068; color: #00ff00; }
body.theme-retro-gaming .primary-button { background-color: #00ff00; color: #1a1a2e; border: 2px solid #ffc947; text-shadow: none;}
body.theme-retro-gaming .primary-button:hover { background-color: #ffc947; color: #1a1a2e; border-color: #00ff00;}
body.theme-retro-gaming .danger-button { background-color: #e43f5a; color: #ffffff; border: 2px solid #ffc947; text-shadow: none;}
body.theme-retro-gaming .danger-button:hover { background-color: #ffc947; color: #e43f5a; border-color: #e43f5a;}
body.theme-retro-gaming #clearChatButton { background-color: #e43f5a; color: #ffc947; border: 2px solid #ffc947; padding: 4px 8px; }
body.theme-retro-gaming #clearChatButton:hover { background-color: #ffc947; color: #e43f5a; border-color: #e43f5a; }

/* ADDED: Retro Gaming style for reset button */
body.theme-retro-gaming #resetChatStateButton {
    background-color: #b32e3a; /* Darker red */
    color: #ffc947;
    border: 2px solid #ffc947;
    padding: 2px 6px; /* Adjust padding to fit font */
}
body.theme-retro-gaming #resetChatStateButton:hover {
    background-color: #ffc947;
    color: #b32e3a;
    border-color: #b32e3a;
}

body.theme-retro-gaming .message .timestamp { color: #00aaff; font-size: 0.6em; bottom: -12px; }

/* --- Theme: Purple Haze --- */
body.theme-purple-haze { background-color: #2c003e; color: #e6e6fa; }
body.theme-purple-haze .sidebar { background-color: #3d0054; border-right: 1px solid #530073; }
body.theme-purple-haze .avatar-placeholder { background: linear-gradient(135deg, #7b1fa2, #4a0072); border: 3px solid #ab47bc; }
body.theme-purple-haze #yuiAvatarInitials { color: #e6e6fa; }
body.theme-purple-haze .profile-preview h2 { color: #ce93d8; }
body.theme-purple-haze .profile-preview p { color: #e1bee7; }
body.theme-purple-haze .status-panel { background-color: #4a0072; border-color: #6a1b9a; }
body.theme-purple-haze .status-panel h3 { color: #f06292; border-bottom-color: #7b1fa2; }
body.theme-purple-haze .status-panel p, body.theme-purple-haze .status-panel li { color: #d1c4e9; }
body.theme-purple-haze .status-panel span { color: #e6e6fa; }
body.theme-purple-haze .user-profile h4 { color: #f06292; }
body.theme-purple-haze .sidebar nav button { color: #e1bee7; background-color: transparent; border-color: #530073; }
body.theme-purple-haze .sidebar nav button.active, body.theme-purple-haze .sidebar nav button:hover { background-color: #530073; color: #ffffff; border-color: #7b1fa2; }
body.theme-purple-haze .main-content { background-color: #2c003e; }
body.theme-purple-haze .chat-header { background-color: #3d0054; border-bottom: 1px solid #530073; color: #ce93d8; }
body.theme-purple-haze .chat-messages { background-color: #2c003e; }
body.theme-purple-haze .yui-message { background-color: #4a0072; color: #e6e6fa; border: 1px solid #6a1b9a; }
body.theme-purple-haze .user-message { background-color: #530073; color: #e6e6fa; border: 1px solid #7b1fa2; }
body.theme-purple-haze .system-info { color: #ba68c8; }
body.theme-purple-haze .chat-input-area { background-color: #3d0054; border-top: 1px solid #530073; }
body.theme-purple-haze .chat-input-area input { background-color: #4a0072; color: #e6e6fa; border: 1px solid #6a1b9a; }
body.theme-purple-haze .chat-input-area input:focus { border-color: #ab47bc; box-shadow: 0 0 3px #ab47bc; }
body.theme-purple-haze .chat-input-area button { background-color: #7b1fa2; color: #e6e6fa; border: 1px solid #ab47bc; }
body.theme-purple-haze .chat-input-area button:hover { background-color: #ab47bc; color: #fff; }
body.theme-purple-haze #settingsView h1, body.theme-purple-haze #dashboardView h1 { color: #ce93d8; border-bottom: 1px solid #530073; }
body.theme-purple-haze .settings-section label { color: #e1bee7; }
body.theme-purple-haze .settings-section input[type="password"],
body.theme-purple-haze .settings-section input[type="text"],
body.theme-purple-haze .settings-section select { background-color: #4a0072; color: #e6e6fa; border: 1px solid #6a1b9a; }
body.theme-purple-haze .settings-section input:focus,
body.theme-purple-haze .settings-section select:focus { border-color: #ab47bc; box-shadow: 0 0 3px #ab47bc; }
body.theme-purple-haze .chart-container, body.theme-purple-haze .info-panel { background-color: #3d0054; border: 1px solid #530073; }
body.theme-purple-haze .chart-container h3, body.theme-purple-haze .info-panel h3 { color: #ce93d8; }
body.theme-purple-haze .info-panel li { border-bottom: 1px solid #530073; color: #e1bee7; }
body.theme-purple-haze .primary-button { background-color: #ab47bc; color: #ffffff; border: 1px solid #7b1fa2;}
body.theme-purple-haze .primary-button:hover { background-color: #7b1fa2; }
body.theme-purple-haze .danger-button { background-color: #e53935; border: 1px solid #c62828;}
body.theme-purple-haze .danger-button:hover { background-color: #c62828; }
body.theme-purple-haze #clearChatButton { background-color: #6a1b9a; color: #e1bee7; border-color: #7b1fa2; }
body.theme-purple-haze #clearChatButton:hover { background-color: #7b1fa2; color: #e6e6fa; }

/* ADDED: Purple Haze style for reset button */
body.theme-purple-haze #resetChatStateButton {
    background-color: #6a0042; /* Deep magenta/purple */
    color: #f3e5f5;
    border-color: #8e24aa;
}
body.theme-purple-haze #resetChatStateButton:hover {
    background-color: #8e24aa;
    color: #ffffff;
}

body.theme-purple-haze .message .timestamp { color: rgba(230, 230, 250, 0.5); }

/* --- Theme: Stoner's Paradise --- */
body.theme-stoners-paradise { background-color: #384c34; color: #e8f5e9; }
body.theme-stoners-paradise .sidebar { background-color: #2e402b; border-right: 1px solid #4a6046; }
body.theme-stoners-paradise .avatar-placeholder { background: linear-gradient(135deg, #556b2f, #3b4a20); border: 3px solid #6b8e23; }
body.theme-stoners-paradise #yuiAvatarInitials { color: #e8f5e9; }
body.theme-stoners-paradise .profile-preview h2 { color: #a5d6a7; }
body.theme-stoners-paradise .profile-preview p { color: #c8e6c9; }
body.theme-stoners-paradise .status-panel { background-color: #3b4a20; border-color: #556b2f; }
body.theme-stoners-paradise .status-panel h3 { color: #ffb300; border-bottom-color: #556b2f; }
body.theme-stoners-paradise .status-panel p, body.theme-stoners-paradise .status-panel li { color: #c8e6c9; }
body.theme-stoners-paradise .status-panel span { color: #e8f5e9; }
body.theme-stoners-paradise .user-profile h4 { color: #ffb300; }
body.theme-stoners-paradise .sidebar nav button { color: #c8e6c9; background-color: transparent; border-color: #4a6046; }
body.theme-stoners-paradise .sidebar nav button.active, body.theme-stoners-paradise .sidebar nav button:hover { background-color: #4a6046; color: #ffffff; border-color: #556b2f; }
body.theme-stoners-paradise .main-content { background-color: #384c34; }
body.theme-stoners-paradise .chat-header { background-color: #2e402b; border-bottom: 1px solid #4a6046; color: #a5d6a7; }
body.theme-stoners-paradise .chat-messages { background-color: #384c34; }
body.theme-stoners-paradise .yui-message { background-color: #4a6046; color: #e8f5e9; border: 1px solid #5a7556; }
body.theme-stoners-paradise .user-message { background-color: #556b2f; color: #e8f5e9; border: 1px solid #6b8e23; }
body.theme-stoners-paradise .system-info { color: #81c784; }
body.theme-stoners-paradise .chat-input-area { background-color: #2e402b; border-top: 1px solid #4a6046; }
body.theme-stoners-paradise .chat-input-area input { background-color: #4a6046; color: #e8f5e9; border: 1px solid #5a7556; }
body.theme-stoners-paradise .chat-input-area input:focus { border-color: #6b8e23; box-shadow: 0 0 3px #6b8e23; }
body.theme-stoners-paradise .chat-input-area button { background-color: #6b8e23; color: #e8f5e9; border: 1px solid #8fbc8f; }
body.theme-stoners-paradise .chat-input-area button:hover { background-color: #8fbc8f; color: #2e402b; }
body.theme-stoners-paradise #settingsView h1, body.theme-stoners-paradise #dashboardView h1 { color: #a5d6a7; border-bottom: 1px solid #4a6046; }
body.theme-stoners-paradise .settings-section label { color: #c8e6c9; }
body.theme-stoners-paradise .settings-section input[type="password"],
body.theme-stoners-paradise .settings-section input[type="text"],
body.theme-stoners-paradise .settings-section select { background-color: #4a6046; color: #e8f5e9; border: 1px solid #5a7556; }
body.theme-stoners-paradise .settings-section input:focus,
body.theme-stoners-paradise .settings-section select:focus { border-color: #6b8e23; box-shadow: 0 0 3px #6b8e23; }
body.theme-stoners-paradise .chart-container, body.theme-stoners-paradise .info-panel { background-color: #2e402b; border: 1px solid #4a6046; }
body.theme-stoners-paradise .chart-container h3, body.theme-stoners-paradise .info-panel h3 { color: #a5d6a7; }
body.theme-stoners-paradise .info-panel li { border-bottom: 1px solid #4a6046; color: #c8e6c9; }
body.theme-stoners-paradise .primary-button { background-color: #ff8f00; color: #2e402b; border: 1px solid #e65100;}
body.theme-stoners-paradise .primary-button:hover { background-color: #e65100; }
body.theme-stoners-paradise .danger-button { background-color: #d32f2f; border: 1px solid #b71c1c;}
body.theme-stoners-paradise .danger-button:hover { background-color: #b71c1c; }
body.theme-stoners-paradise #clearChatButton { background-color: #556b2f; color: #c8e6c9; border-color: #6b8e23; }
body.theme-stoners-paradise #clearChatButton:hover { background-color: #6b8e23; color: #e8f5e9; }

/* ADDED: Stoner's Paradise style for reset button */
body.theme-stoners-paradise #resetChatStateButton {
    background-color: #783c00; /* Earthy red/brown */
    color: #ffe0b2;
    border-color: #a15200;
}
body.theme-stoners-paradise #resetChatStateButton:hover {
    background-color: #a15200;
    color: #fff3e0;
}

body.theme-stoners-paradise .message .timestamp { color: rgba(232, 245, 233, 0.6); }

/* --- Theme: Green Leaf Vibes --- */
body.theme-green-leaf-vibes { background-color: #224b2f; color: #e8f5e9; }
body.theme-green-leaf-vibes .sidebar { background-color: #1b3d26; border-right: 1px solid #357a4b; }
body.theme-green-leaf-vibes .avatar-placeholder { background: linear-gradient(135deg, #388e3c, #2e7d32); border: 3px solid #4caf50; }
body.theme-green-leaf-vibes #yuiAvatarInitials { color: #e8f5e9; }
body.theme-green-leaf-vibes .profile-preview h2 { color: #81c784; }
body.theme-green-leaf-vibes .profile-preview p { color: #a5d6a7; }
body.theme-green-leaf-vibes .status-panel { background-color: #2e7d32; border-color: #43a047; }
body.theme-green-leaf-vibes .status-panel h3 { color: #ffeb3b; border-bottom-color: #43a047; }
body.theme-green-leaf-vibes .status-panel p, body.theme-green-leaf-vibes .status-panel li { color: #c8e6c9; }
body.theme-green-leaf-vibes .status-panel span { color: #e8f5e9; }
body.theme-green-leaf-vibes .user-profile h4 { color: #ffeb3b; }
body.theme-green-leaf-vibes .sidebar nav button { color: #a5d6a7; background-color: transparent; border-color: #357a4b; }
body.theme-green-leaf-vibes .sidebar nav button.active, body.theme-green-leaf-vibes .sidebar nav button:hover { background-color: #357a4b; color: #ffffff; border-color: #4caf50; }
body.theme-green-leaf-vibes .main-content { background-color: #224b2f; }
body.theme-green-leaf-vibes .chat-header { background-color: #1b3d26; border-bottom: 1px solid #357a4b; color: #81c784; }
body.theme-green-leaf-vibes .chat-messages { background-color: #224b2f; }
body.theme-green-leaf-vibes .yui-message { background-color: #2e7d32; color: #e8f5e9; border: 1px solid #43a047; }
body.theme-green-leaf-vibes .user-message { background-color: #388e3c; color: #e8f5e9; border: 1px solid #4caf50; }
body.theme-green-leaf-vibes .system-info { color: #66bb6a; }
body.theme-green-leaf-vibes .chat-input-area { background-color: #1b3d26; border-top: 1px solid #357a4b; }
body.theme-green-leaf-vibes .chat-input-area input { background-color: #2e7d32; color: #e8f5e9; border: 1px solid #43a047; }
body.theme-green-leaf-vibes .chat-input-area input:focus { border-color: #4caf50; box-shadow: 0 0 3px #4caf50; }
body.theme-green-leaf-vibes .chat-input-area button { background-color: #43a047; color: #e8f5e9; border: 1px solid #4caf50; }
body.theme-green-leaf-vibes .chat-input-area button:hover { background-color: #4caf50; color: #fff; }
body.theme-green-leaf-vibes #settingsView h1, body.theme-green-leaf-vibes #dashboardView h1 { color: #81c784; border-bottom: 1px solid #357a4b; }
body.theme-green-leaf-vibes .settings-section label { color: #a5d6a7; }
body.theme-green-leaf-vibes .settings-section input[type="password"],
body.theme-green-leaf-vibes .settings-section input[type="text"],
body.theme-green-leaf-vibes .settings-section select { background-color: #2e7d32; color: #e8f5e9; border: 1px solid #43a047; }
body.theme-green-leaf-vibes .settings-section input:focus,
body.theme-green-leaf-vibes .settings-section select:focus { border-color: #4caf50; box-shadow: 0 0 3px #4caf50; }
body.theme-green-leaf-vibes .chart-container, body.theme-green-leaf-vibes .info-panel { background-color: #1b3d26; border: 1px solid #357a4b; }
body.theme-green-leaf-vibes .chart-container h3, body.theme-green-leaf-vibes .info-panel h3 { color: #81c784; }
body.theme-green-leaf-vibes .info-panel li { border-bottom: 1px solid #357a4b; color: #a5d6a7; }
body.theme-green-leaf-vibes .primary-button { background-color: #4caf50; color: #ffffff; border: 1px solid #388e3c;}
body.theme-green-leaf-vibes .primary-button:hover { background-color: #388e3c; }
body.theme-green-leaf-vibes .danger-button { background-color: #f44336; border: 1px solid #d32f2f;}
body.theme-green-leaf-vibes .danger-button:hover { background-color: #d32f2f; }
body.theme-green-leaf-vibes #clearChatButton { background-color: #388e3c; color: #c8e6c9; border-color: #4caf50; }
body.theme-green-leaf-vibes #clearChatButton:hover { background-color: #4caf50; color: #e8f5e9; }

/* ADDED: Green Leaf Vibes style for reset button */
body.theme-green-leaf-vibes #resetChatStateButton {
    background-color: #8c2820; /* Muted red */
    color: #e8f5e9;
    border-color: #b54036;
}
body.theme-green-leaf-vibes #resetChatStateButton:hover {
    background-color: #b54036;
    color: #ffffff;
}

body.theme-green-leaf-vibes .message .timestamp { color: rgba(232, 245, 233, 0.6); }

/* --- Theme: Solarized Dark --- */
body.theme-solarized-dark {
    background-color: #002b36; /* base03 */
    color: #839496; /* base0 */
    font-family: 'Menlo', 'Consolas', monospace;
}
body.theme-solarized-dark .sidebar {
    background-color: #073642; /* base02 */
    border-right: 1px solid #586e75; /* base01 */
}
body.theme-solarized-dark .avatar-placeholder {
    background: linear-gradient(135deg, #586e75, #073642); /* base01, base02 */
    border: 3px solid #657b83; /* base00 */
    color: #93a1a1; /* base1 */
}
body.theme-solarized-dark #yuiAvatarInitials {
    color: #93a1a1; /* base1 */
}
body.theme-solarized-dark .profile-preview h2 {
    color: #93a1a1; /* base1 */
}
body.theme-solarized-dark .profile-preview p {
    color: #657b83; /* base00 */
}
body.theme-solarized-dark .status-panel {
    background-color: #073642; /* base02 */
    border-color: #586e75; /* base01 */
}
body.theme-solarized-dark .status-panel h3 {
    color: #268bd2; /* blue */
    border-bottom-color: #586e75; /* base01 */
}
body.theme-solarized-dark .status-panel p,
body.theme-solarized-dark .status-panel li {
    color: #839496; /* base0 */
}
body.theme-solarized-dark .status-panel span {
    color: #93a1a1; /* base1 */
}
body.theme-solarized-dark .user-profile h4 {
    color: #2aa198; /* cyan */
}
body.theme-solarized-dark .emotion-panel {
    background-color: #073642; /* base02 */
    border-color: #586e75; /* base01 */
}
body.theme-solarized-dark .emotion-panel h3 {
    color: #268bd2; /* blue */
    border-bottom-color: #586e75; /* base01 */
}
body.theme-solarized-dark .emotion-face {
    color: #b58900; /* yellow */
}
body.theme-solarized-dark .sidebar nav button {
    color: #839496; /* base0 */
    background-color: transparent;
}
body.theme-solarized-dark .sidebar nav button.active,
body.theme-solarized-dark .sidebar nav button:hover {
    background-color: #586e75; /* base01 */
    color: #fdf6e3; /* base3 */
    border-left-color: #268bd2; /* blue */
}
body.theme-solarized-dark .main-content {
    background-color: #002b36; /* base03 */
}
body.theme-solarized-dark .chat-header {
    background-color: #073642; /* base02 */
    border-bottom: 1px solid #586e75; /* base01 */
    color: #93a1a1; /* base1 */
}
body.theme-solarized-dark .chat-messages {
    background-color: #002b36; /* base03 */
}
body.theme-solarized-dark .yui-message {
    background-color: #073642; /* base02 */
    color: #839496; /* base0 */
    border: 1px solid #586e75; /* base01 */
}
body.theme-solarized-dark .user-message {
    background-color: #586e75; /* base01 */
    color: #fdf6e3; /* base3 */
    border: 1px solid #657b83; /* base00 */
}
body.theme-solarized-dark .system-info {
    color: #657b83; /* base00 */
}
body.theme-solarized-dark .chat-input-area {
    background-color: #073642; /* base02 */
    border-top: 1px solid #586e75; /* base01 */
}
body.theme-solarized-dark .chat-input-area input {
    background-color: #002b36; /* base03 */
    color: #839496; /* base0 */
    border: 1px solid #586e75; /* base01 */
}
body.theme-solarized-dark .chat-input-area input:focus {
    border-color: #268bd2; /* blue */
    box-shadow: 0 0 0 2px rgba(38, 139, 210, 0.3);
}
body.theme-solarized-dark .chat-input-area button {
    background-color: #268bd2; /* blue */
    color: #fdf6e3; /* base3 */
    border: none;
}
body.theme-solarized-dark .chat-input-area button:hover {
    background-color: #2aa198; /* cyan */
}
body.theme-solarized-dark #settingsView h1,
body.theme-solarized-dark #dashboardView h1 {
    color: #93a1a1; /* base1 */
    border-bottom: 1px solid #586e75; /* base01 */
}
body.theme-solarized-dark .settings-section label {
    color: #657b83; /* base00 */
}
body.theme-solarized-dark .settings-section input[type="password"],
body.theme-solarized-dark .settings-section input[type="text"],
body.theme-solarized-dark .settings-section select {
    background-color: #073642; /* base02 */
    color: #839496; /* base0 */
    border: 1px solid #586e75; /* base01 */
}
body.theme-solarized-dark .settings-section input:focus,
body.theme-solarized-dark .settings-section select:focus {
    border-color: #268bd2; /* blue */
    box-shadow: 0 0 0 2px rgba(38, 139, 210, 0.3);
}
body.theme-solarized-dark .chart-container,
body.theme-solarized-dark .info-panel {
    background-color: #073642; /* base02 */
    border: 1px solid #586e75; /* base01 */
}
body.theme-solarized-dark .chart-container h3,
body.theme-solarized-dark .info-panel h3 {
    color: #93a1a1; /* base1 */
    border-bottom: 1px solid #586e75;
}
body.theme-solarized-dark .info-panel li {
    border-bottom: 1px solid #586e75; /* base01 */
    color: #839496; /* base0 */
}
body.theme-solarized-dark .primary-button {
    background-color: #2aa198; /* cyan */
    color: #002b36; /* base03 */
}
body.theme-solarized-dark .primary-button:hover {
    background-color: #268bd2; /* blue */
}
body.theme-solarized-dark .danger-button {
    background-color: #dc322f; /* red */
    color: #fdf6e3; /* base3 */
}
body.theme-solarized-dark .danger-button:hover {
    background-color: #cb4b16; /* orange */
}
body.theme-solarized-dark #clearChatButton {
    background-color: #586e75; /* base01 */
    color: #93a1a1; /* base1 */
    border-color: #657b83; /* base00 */
}
body.theme-solarized-dark #clearChatButton:hover {
    background-color: #657b83; /* base00 */
    color: #fdf6e3; /* base3 */
}
body.theme-solarized-dark #resetChatStateButton {
    background-color: #cb4b16; /* orange */
    color: #fdf6e3; /* base3 */
    border-color: #dc322f; /* red */
}
body.theme-solarized-dark #resetChatStateButton:hover {
    background-color: #dc322f; /* red */
    color: #fdf6e3; /* base3 */
}
body.theme-solarized-dark .message .timestamp {
    color: rgba(131, 148, 150, 0.6); /* base0 with alpha */
}

/* --- Theme: Nordic Night --- */
body.theme-nordic-night {
    background-color: #2E3440; /* nord0 - Polar Night */
    color: #D8DEE9; /* nord4 - Snow Storm */
    font-family: 'Fira Code', 'Source Code Pro', monospace;
}
body.theme-nordic-night .sidebar {
    background-color: #3B4252; /* nord1 - Polar Night */
    border-right: 1px solid #4C566A; /* nord3 - Polar Night */
}
body.theme-nordic-night .avatar-placeholder {
    background: linear-gradient(135deg, #4C566A, #434C5E); /* nord3, nord2 */
    border: 3px solid #88C0D0; /* nord9 - Frost */
    color: #ECEFF4; /* nord6 - Snow Storm */
}
body.theme-nordic-night #yuiAvatarInitials {
    color: #ECEFF4; /* nord6 */
}
body.theme-nordic-night .profile-preview h2 {
    color: #E5E9F0; /* nord5 - Snow Storm */
}
body.theme-nordic-night .profile-preview p {
    color: #A3BE8C; /* nord14 - Aurora Green */
}
body.theme-nordic-night .status-panel {
    background-color: #3B4252; /* nord1 */
    border-color: #4C566A; /* nord3 */
}
body.theme-nordic-night .status-panel h3 {
    color: #88C0D0; /* nord9 - Frost */
    border-bottom-color: #4C566A; /* nord3 */
}
body.theme-nordic-night .status-panel p,
body.theme-nordic-night .status-panel li {
    color: #D8DEE9; /* nord4 */
}
body.theme-nordic-night .status-panel span {
    color: #ECEFF4; /* nord6 */
}
body.theme-nordic-night .user-profile h4 {
    color: #B48EAD; /* nord15 - Aurora Purple */
}
body.theme-nordic-night .emotion-panel {
    background-color: #3B4252; /* nord1 */
    border-color: #4C566A; /* nord3 */
}
body.theme-nordic-night .emotion-panel h3 {
    color: #88C0D0; /* nord9 - Frost */
    border-bottom-color: #4C566A; /* nord3 */
}
body.theme-nordic-night .emotion-face {
    color: #EBCB8B; /* nord13 - Aurora Yellow */
}
body.theme-nordic-night .sidebar nav button {
    color: #D8DEE9; /* nord4 */
    background-color: transparent;
}
body.theme-nordic-night .sidebar nav button.active,
body.theme-nordic-night .sidebar nav button:hover {
    background-color: #4C566A; /* nord3 */
    color: #ECEFF4; /* nord6 */
    border-left-color: #88C0D0; /* nord9 - Frost */
}
body.theme-nordic-night .main-content {
    background-color: #2E3440; /* nord0 */
}
body.theme-nordic-night .chat-header {
    background-color: #3B4252; /* nord1 */
    border-bottom: 1px solid #4C566A; /* nord3 */
    color: #E5E9F0; /* nord5 */
}
body.theme-nordic-night .chat-messages {
    background-color: #2E3440; /* nord0 */
}
body.theme-nordic-night .yui-message {
    background-color: #434C5E; /* nord2 - Polar Night */
    color: #D8DEE9; /* nord4 */
    border: 1px solid #4C566A; /* nord3 */
}
body.theme-nordic-night .user-message {
    background-color: #81A1C1; /* nord10 - Frost */
    color: #2E3440; /* nord0 */
    border: 1px solid #5E81AC; /* nord10 darker shade for border */
}
body.theme-nordic-night .system-info {
    color: #A3BE8C; /* nord14 - Aurora Green */
}
body.theme-nordic-night .chat-input-area {
    background-color: #3B4252; /* nord1 */
    border-top: 1px solid #4C566A; /* nord3 */
}
body.theme-nordic-night .chat-input-area input {
    background-color: #2E3440; /* nord0 */
    color: #D8DEE9; /* nord4 */
    border: 1px solid #4C566A; /* nord3 */
}
body.theme-nordic-night .chat-input-area input:focus {
    border-color: #88C0D0; /* nord9 - Frost */
    box-shadow: 0 0 0 2px rgba(136, 192, 208, 0.3);
}
body.theme-nordic-night .chat-input-area button {
    background-color: #88C0D0; /* nord9 - Frost */
    color: #2E3440; /* nord0 */
    border: none;
}
body.theme-nordic-night .chat-input-area button:hover {
    background-color: #81A1C1; /* nord10 - Frost */
}
body.theme-nordic-night #settingsView h1,
body.theme-nordic-night #dashboardView h1 {
    color: #E5E9F0; /* nord5 */
    border-bottom: 1px solid #4C566A; /* nord3 */
}
body.theme-nordic-night .settings-section label {
    color: #A3BE8C; /* nord14 - Aurora Green */
}
body.theme-nordic-night .settings-section input[type="password"],
body.theme-nordic-night .settings-section input[type="text"],
body.theme-nordic-night .settings-section select {
    background-color: #3B4252; /* nord1 */
    color: #D8DEE9; /* nord4 */
    border: 1px solid #4C566A; /* nord3 */
}
body.theme-nordic-night .settings-section input:focus,
body.theme-nordic-night .settings-section select:focus {
    border-color: #88C0D0; /* nord9 - Frost */
    box-shadow: 0 0 0 2px rgba(136, 192, 208, 0.3);
}
body.theme-nordic-night .chart-container,
body.theme-nordic-night .info-panel {
    background-color: #3B4252; /* nord1 */
    border: 1px solid #4C566A; /* nord3 */
}
body.theme-nordic-night .chart-container h3,
body.theme-nordic-night .info-panel h3 {
    color: #E5E9F0; /* nord5 */
    border-bottom: 1px solid #4C566A; /* nord3 */
}
body.theme-nordic-night .info-panel li {
    border-bottom: 1px solid #4C566A; /* nord3 */
    color: #D8DEE9; /* nord4 */
}
body.theme-nordic-night .primary-button {
    background-color: #A3BE8C; /* nord14 - Aurora Green */
    color: #2E3440; /* nord0 */
}
body.theme-nordic-night .primary-button:hover {
    background-color: #8FBCBB; /* nord7 - Frost */
}
body.theme-nordic-night .danger-button {
    background-color: #BF616A; /* nord11 - Aurora Red */
    color: #ECEFF4; /* nord6 */
}
body.theme-nordic-night .danger-button:hover {
    background-color: #D08770; /* nord12 - Aurora Orange */
}
body.theme-nordic-night #clearChatButton {
    background-color: #4C566A; /* nord3 */
    color: #D8DEE9; /* nord4 */
    border-color: #5E81AC; /* nord10 */
}
body.theme-nordic-night #clearChatButton:hover {
    background-color: #5E81AC; /* nord10 */
    color: #ECEFF4; /* nord6 */
}
body.theme-nordic-night #resetChatStateButton {
    background-color: #D08770; /* nord12 - Aurora Orange */
    color: #2E3440; /* nord0 */
    border-color: #BF616A; /* nord11 - Aurora Red */
}
body.theme-nordic-night #resetChatStateButton:hover {
    background-color: #BF616A; /* nord11 - Aurora Red */
    color: #ECEFF4; /* nord6 */
}
body.theme-nordic-night .message .timestamp {
    color: rgba(216, 222, 233, 0.6); /* nord4 with alpha */
}

/* --- Theme: OLED Black - Crimson --- */
body.theme-oled-black-crimson { background-color: #000000; color: #e0e0e0; }
body.theme-oled-black-crimson .sidebar { background-color: #050505; border-right: 1px solid #2a0000; } /* Dark Red tint */
body.theme-oled-black-crimson .avatar-placeholder { background: linear-gradient(135deg, #180000, #080000); border: 3px solid #550000; color: #ff4444; } /* Red accent */
body.theme-oled-black-crimson #yuiAvatarInitials { color: #ff6666; }
body.theme-oled-black-crimson .profile-preview h2 { color: #ff8888; }
body.theme-oled-black-crimson .profile-preview p { color: #cc6666; }
body.theme-oled-black-crimson .status-panel { background-color: #0a0a0a; border-color: #3f0000; }
body.theme-oled-black-crimson .status-panel h3 { color: #ff3333; border-bottom-color: #450000; } /* Bright Red */
body.theme-oled-black-crimson .status-panel p, body.theme-oled-black-crimson .status-panel li { color: #c0c0c0; }
body.theme-oled-black-crimson .status-panel span { color: #d0d0d0; }
body.theme-oled-black-crimson .user-profile h4 { color: #ff3333; } /* Bright Red */
body.theme-oled-black-crimson .emotion-panel { background-color: #0a0a0a; border-color: #3f0000; }
body.theme-oled-black-crimson .emotion-panel h3 { color: #ff3333; border-bottom-color: #450000; }
body.theme-oled-black-crimson .emotion-face { color: #ff4444; }
body.theme-oled-black-crimson .sidebar nav button { color: #b0b0b0; background-color: transparent; border-left-color: #2a0000; }
body.theme-oled-black-crimson .sidebar nav button.active, body.theme-oled-black-crimson .sidebar nav button:hover { background-color: #2a0000; color: #ff8888; border-left-color: #ff3333; } /* Red active */
body.theme-oled-black-crimson .main-content { background-color: #000000; }
body.theme-oled-black-crimson .chat-header { background-color: #080808; border-bottom: 1px solid #2a0000; color: #ff8888; }
body.theme-oled-black-crimson .chat-messages { background-color: #000000; }
body.theme-oled-black-crimson .yui-message { background-color: #101010; color: #d0d0d0; border: 1px solid #300000; }
body.theme-oled-black-crimson .user-message { background-color: #181818; color: #d0d0d0; border: 1px solid #400000; }
body.theme-oled-black-crimson .system-info { color: #cc6666; }
body.theme-oled-black-crimson .chat-input-area { background-color: #050505; border-top: 1px solid #2a0000; }
body.theme-oled-black-crimson .chat-input-area input { background-color: #101010; color: #e0e0e0; border: 1px solid #450000; }
body.theme-oled-black-crimson .chat-input-area input:focus { border-color: #ff3333; box-shadow: 0 0 3px #ff3333; }
body.theme-oled-black-crimson .chat-input-area button { background-color: #550000; color: #ffaaaa; border: 1px solid #660000; }
body.theme-oled-black-crimson .chat-input-area button:hover { background-color: #ff3333; color: #000; }
body.theme-oled-black-crimson #settingsView h1, body.theme-oled-black-crimson #dashboardView h1 { color: #ff8888; border-bottom: 1px solid #450000; }
body.theme-oled-black-crimson .settings-section label { color: #cc6666; }
body.theme-oled-black-crimson .settings-section input[type="password"],
body.theme-oled-black-crimson .settings-section input[type="text"],
body.theme-oled-black-crimson .settings-section select { background-color: #101010; color: #e0e0e0; border: 1px solid #450000; }
body.theme-oled-black-crimson .settings-section input:focus,
body.theme-oled-black-crimson .settings-section select:focus { border-color: #ff3333; box-shadow: 0 0 3px #ff3333; }
body.theme-oled-black-crimson .primary-button { background-color: #800000; color: #ffdddd; }
body.theme-oled-black-crimson .primary-button:hover { background-color: #ff3333; color: #000; }
body.theme-oled-black-crimson .danger-button { background-color: #cc0000; color: #ffdddd; }
body.theme-oled-black-crimson .danger-button:hover { background-color: #ff4444; color: #fff; }
body.theme-oled-black-crimson #clearChatButton, body.theme-oled-black-crimson #resetChatStateButton { background-color: #440000; color: #ffaaaa; border-color: #660000; }
body.theme-oled-black-crimson #clearChatButton:hover, body.theme-oled-black-crimson #resetChatStateButton:hover { background-color: #660000; color: #ffdddd; }
body.theme-oled-black-crimson .message .timestamp { color: rgba(255, 100, 100, 0.6); }
body.theme-oled-black-crimson .settings-nav-button.active { border-bottom-color: #ff3333; color: #ff8888; }
body.theme-oled-black-crimson .settings-nav-button:hover { color: #ffaaaa; }

/* --- Theme: OLED Black - Emerald --- */
body.theme-oled-black-emerald { background-color: #000000; color: #e0e0e0; }
body.theme-oled-black-emerald .sidebar { background-color: #050505; border-right: 1px solid #002a00; } /* Dark Green tint */
body.theme-oled-black-emerald .avatar-placeholder { background: linear-gradient(135deg, #001800, #000800); border: 3px solid #005500; color: #44ff44; } /* Green accent */
body.theme-oled-black-emerald #yuiAvatarInitials { color: #66ff66; }
body.theme-oled-black-emerald .profile-preview h2 { color: #88ff88; }
body.theme-oled-black-emerald .profile-preview p { color: #66cc66; }
body.theme-oled-black-emerald .status-panel { background-color: #0a0a0a; border-color: #003f00; }
body.theme-oled-black-emerald .status-panel h3 { color: #33ff33; border-bottom-color: #004500; } /* Bright Green */
body.theme-oled-black-emerald .status-panel p, body.theme-oled-black-emerald .status-panel li { color: #c0c0c0; }
body.theme-oled-black-emerald .status-panel span { color: #d0d0d0; }
body.theme-oled-black-emerald .user-profile h4 { color: #33ff33; } /* Bright Green */
body.theme-oled-black-emerald .emotion-panel { background-color: #0a0a0a; border-color: #003f00; }
body.theme-oled-black-emerald .emotion-panel h3 { color: #33ff33; border-bottom-color: #004500; }
body.theme-oled-black-emerald .emotion-face { color: #44ff44; }
body.theme-oled-black-emerald .sidebar nav button { color: #b0b0b0; background-color: transparent; border-left-color: #002a00; }
body.theme-oled-black-emerald .sidebar nav button.active, body.theme-oled-black-emerald .sidebar nav button:hover { background-color: #002a00; color: #88ff88; border-left-color: #33ff33; } /* Green active */
body.theme-oled-black-emerald .main-content { background-color: #000000; }
body.theme-oled-black-emerald .chat-header { background-color: #080808; border-bottom: 1px solid #002a00; color: #88ff88; }
body.theme-oled-black-emerald .chat-messages { background-color: #000000; }
body.theme-oled-black-emerald .yui-message { background-color: #101010; color: #d0d0d0; border: 1px solid #003000; }
body.theme-oled-black-emerald .user-message { background-color: #181818; color: #d0d0d0; border: 1px solid #004000; }
body.theme-oled-black-emerald .system-info { color: #66cc66; }
body.theme-oled-black-emerald .chat-input-area { background-color: #050505; border-top: 1px solid #002a00; }
body.theme-oled-black-emerald .chat-input-area input { background-color: #101010; color: #e0e0e0; border: 1px solid #004500; }
body.theme-oled-black-emerald .chat-input-area input:focus { border-color: #33ff33; box-shadow: 0 0 3px #33ff33; }
body.theme-oled-black-emerald .chat-input-area button { background-color: #005500; color: #aaffaa; border: 1px solid #006600; }
body.theme-oled-black-emerald .chat-input-area button:hover { background-color: #33ff33; color: #000; }
body.theme-oled-black-emerald #settingsView h1, body.theme-oled-black-emerald #dashboardView h1 { color: #88ff88; border-bottom: 1px solid #004500; }
body.theme-oled-black-emerald .settings-section label { color: #66cc66; }
body.theme-oled-black-emerald .settings-section input[type="password"],
body.theme-oled-black-emerald .settings-section input[type="text"],
body.theme-oled-black-emerald .settings-section select { background-color: #101010; color: #e0e0e0; border: 1px solid #004500; }
body.theme-oled-black-emerald .settings-section input:focus,
body.theme-oled-black-emerald .settings-section select:focus { border-color: #33ff33; box-shadow: 0 0 3px #33ff33; }
body.theme-oled-black-emerald .primary-button { background-color: #008000; color: #ddffdd; }
body.theme-oled-black-emerald .primary-button:hover { background-color: #33ff33; color: #000; }
body.theme-oled-black-emerald .danger-button { background-color: #00cc00; color: #ddffdd; } /* Using a brighter green for "danger" in this context */
body.theme-oled-black-emerald .danger-button:hover { background-color: #44ff44; color: #fff; }
body.theme-oled-black-emerald #clearChatButton, body.theme-oled-black-emerald #resetChatStateButton { background-color: #004400; color: #aaffaa; border-color: #006600; }
body.theme-oled-black-emerald #clearChatButton:hover, body.theme-oled-black-emerald #resetChatStateButton:hover { background-color: #006600; color: #ddffdd; }
body.theme-oled-black-emerald .message .timestamp { color: rgba(100, 255, 100, 0.6); }
body.theme-oled-black-emerald .settings-nav-button.active { border-bottom-color: #33ff33; color: #88ff88; }
body.theme-oled-black-emerald .settings-nav-button:hover { color: #aaffaa; }

/* --- Theme: OLED Black - Sapphire --- */
body.theme-oled-black-sapphire { background-color: #000000; color: #e0e0e0; }
body.theme-oled-black-sapphire .sidebar { background-color: #050505; border-right: 1px solid #00002a; } /* Dark Blue tint */
body.theme-oled-black-sapphire .avatar-placeholder { background: linear-gradient(135deg, #000018, #000008); border: 3px solid #000055; color: #4444ff; } /* Blue accent */
body.theme-oled-black-sapphire #yuiAvatarInitials { color: #6666ff; }
body.theme-oled-black-sapphire .profile-preview h2 { color: #8888ff; }
body.theme-oled-black-sapphire .profile-preview p { color: #6666cc; }
body.theme-oled-black-sapphire .status-panel { background-color: #0a0a0a; border-color: #00003f; }
body.theme-oled-black-sapphire .status-panel h3 { color: #3333ff; border-bottom-color: #000045; } /* Bright Blue */
body.theme-oled-black-sapphire .status-panel p, body.theme-oled-black-sapphire .status-panel li { color: #c0c0c0; }
body.theme-oled-black-sapphire .status-panel span { color: #d0d0d0; }
body.theme-oled-black-sapphire .user-profile h4 { color: #3333ff; } /* Bright Blue */
body.theme-oled-black-sapphire .emotion-panel { background-color: #0a0a0a; border-color: #00003f; }
body.theme-oled-black-sapphire .emotion-panel h3 { color: #3333ff; border-bottom-color: #000045; }
body.theme-oled-black-sapphire .emotion-face { color: #4444ff; }
body.theme-oled-black-sapphire .sidebar nav button { color: #b0b0b0; background-color: transparent; border-left-color: #00002a; }
body.theme-oled-black-sapphire .sidebar nav button.active, body.theme-oled-black-sapphire .sidebar nav button:hover { background-color: #00002a; color: #8888ff; border-left-color: #3333ff; } /* Blue active */
body.theme-oled-black-sapphire .main-content { background-color: #000000; }
body.theme-oled-black-sapphire .chat-header { background-color: #080808; border-bottom: 1px solid #00002a; color: #8888ff; }
body.theme-oled-black-sapphire .chat-messages { background-color: #000000; }
body.theme-oled-black-sapphire .yui-message { background-color: #101010; color: #d0d0d0; border: 1px solid #000030; }
body.theme-oled-black-sapphire .user-message { background-color: #181818; color: #d0d0d0; border: 1px solid #000040; }
body.theme-oled-black-sapphire .system-info { color: #6666cc; }
body.theme-oled-black-sapphire .chat-input-area { background-color: #050505; border-top: 1px solid #00002a; }
body.theme-oled-black-sapphire .chat-input-area input { background-color: #101010; color: #e0e0e0; border: 1px solid #000045; }
body.theme-oled-black-sapphire .chat-input-area input:focus { border-color: #3333ff; box-shadow: 0 0 3px #3333ff; }
body.theme-oled-black-sapphire .chat-input-area button { background-color: #000055; color: #aaaaff; border: 1px solid #000066; }
body.theme-oled-black-sapphire .chat-input-area button:hover { background-color: #3333ff; color: #000; }
body.theme-oled-black-sapphire #settingsView h1, body.theme-oled-black-sapphire #dashboardView h1 { color: #8888ff; border-bottom: 1px solid #000045; }
body.theme-oled-black-sapphire .settings-section label { color: #6666cc; }
body.theme-oled-black-sapphire .settings-section input[type="password"],
body.theme-oled-black-sapphire .settings-section input[type="text"],
body.theme-oled-black-sapphire .settings-section select { background-color: #101010; color: #e0e0e0; border: 1px solid #000045; }
body.theme-oled-black-sapphire .settings-section input:focus,
body.theme-oled-black-sapphire .settings-section select:focus { border-color: #3333ff; box-shadow: 0 0 3px #3333ff; }
body.theme-oled-black-sapphire .primary-button { background-color: #000080; color: #ddddff; }
body.theme-oled-black-sapphire .primary-button:hover { background-color: #3333ff; color: #000; }
body.theme-oled-black-sapphire .danger-button { background-color: #0000cc; color: #ddddff; }
body.theme-oled-black-sapphire .danger-button:hover { background-color: #4444ff; color: #fff; }
body.theme-oled-black-sapphire #clearChatButton, body.theme-oled-black-sapphire #resetChatStateButton { background-color: #000044; color: #aaaaff; border-color: #000066; }
body.theme-oled-black-sapphire #clearChatButton:hover, body.theme-oled-black-sapphire #resetChatStateButton:hover { background-color: #000066; color: #ddddff; }
body.theme-oled-black-sapphire .message .timestamp { color: rgba(100, 100, 255, 0.6); }
body.theme-oled-black-sapphire .settings-nav-button.active { border-bottom-color: #3333ff; color: #8888ff; }
body.theme-oled-black-sapphire .settings-nav-button:hover { color: #aaaaff; }

/* --- Theme: OLED Black - Amethyst --- */
body.theme-oled-black-amethyst { background-color: #000000; color: #e0e0e0; }
body.theme-oled-black-amethyst .sidebar { background-color: #050505; border-right: 1px solid #2a002a; } /* Dark Purple tint */
body.theme-oled-black-amethyst .avatar-placeholder { background: linear-gradient(135deg, #180018, #080008); border: 3px solid #550055; color: #ff44ff; } /* Purple accent */
body.theme-oled-black-amethyst #yuiAvatarInitials { color: #ff66ff; }
body.theme-oled-black-amethyst .profile-preview h2 { color: #ff88ff; }
body.theme-oled-black-amethyst .profile-preview p { color: #cc66cc; }
body.theme-oled-black-amethyst .status-panel { background-color: #0a0a0a; border-color: #3f003f; }
body.theme-oled-black-amethyst .status-panel h3 { color: #ff33ff; border-bottom-color: #450045; } /* Bright Purple */
body.theme-oled-black-amethyst .status-panel p, body.theme-oled-black-amethyst .status-panel li { color: #c0c0c0; }
body.theme-oled-black-amethyst .status-panel span { color: #d0d0d0; }
body.theme-oled-black-amethyst .user-profile h4 { color: #ff33ff; } /* Bright Purple */
body.theme-oled-black-amethyst .emotion-panel { background-color: #0a0a0a; border-color: #3f003f; }
body.theme-oled-black-amethyst .emotion-panel h3 { color: #ff33ff; border-bottom-color: #450045; }
body.theme-oled-black-amethyst .emotion-face { color: #ff44ff; }
body.theme-oled-black-amethyst .sidebar nav button { color: #b0b0b0; background-color: transparent; border-left-color: #2a002a; }
body.theme-oled-black-amethyst .sidebar nav button.active, body.theme-oled-black-amethyst .sidebar nav button:hover { background-color: #2a002a; color: #ff88ff; border-left-color: #ff33ff; } /* Purple active */
body.theme-oled-black-amethyst .main-content { background-color: #000000; }
body.theme-oled-black-amethyst .chat-header { background-color: #080808; border-bottom: 1px solid #2a002a; color: #ff88ff; }
body.theme-oled-black-amethyst .chat-messages { background-color: #000000; }
body.theme-oled-black-amethyst .yui-message { background-color: #101010; color: #d0d0d0; border: 1px solid #300030; }
body.theme-oled-black-amethyst .user-message { background-color: #181818; color: #d0d0d0; border: 1px solid #400040; }
body.theme-oled-black-amethyst .system-info { color: #cc66cc; }
body.theme-oled-black-amethyst .chat-input-area { background-color: #050505; border-top: 1px solid #2a002a; }
body.theme-oled-black-amethyst .chat-input-area input { background-color: #101010; color: #e0e0e0; border: 1px solid #450045; }
body.theme-oled-black-amethyst .chat-input-area input:focus { border-color: #ff33ff; box-shadow: 0 0 3px #ff33ff; }
body.theme-oled-black-amethyst .chat-input-area button { background-color: #550055; color: #ffaaff; border: 1px solid #660066; }
body.theme-oled-black-amethyst .chat-input-area button:hover { background-color: #ff33ff; color: #000; }
body.theme-oled-black-amethyst #settingsView h1, body.theme-oled-black-amethyst #dashboardView h1 { color: #ff88ff; border-bottom: 1px solid #450045; }
body.theme-oled-black-amethyst .settings-section label { color: #cc66cc; }
body.theme-oled-black-amethyst .settings-section input[type="password"],
body.theme-oled-black-amethyst .settings-section input[type="text"],
body.theme-oled-black-amethyst .settings-section select { background-color: #101010; color: #e0e0e0; border: 1px solid #450045; }
body.theme-oled-black-amethyst .settings-section input:focus,
body.theme-oled-black-amethyst .settings-section select:focus { border-color: #ff33ff; box-shadow: 0 0 3px #ff33ff; }
body.theme-oled-black-amethyst .primary-button { background-color: #800080; color: #ffddff; }
body.theme-oled-black-amethyst .primary-button:hover { background-color: #ff33ff; color: #000; }
body.theme-oled-black-amethyst .danger-button { background-color: #cc00cc; color: #ffddff; }
body.theme-oled-black-amethyst .danger-button:hover { background-color: #ff44ff; color: #fff; }
body.theme-oled-black-amethyst #clearChatButton, body.theme-oled-black-amethyst #resetChatStateButton { background-color: #440044; color: #ffaaff; border-color: #660066; }
body.theme-oled-black-amethyst #clearChatButton:hover, body.theme-oled-black-amethyst #resetChatStateButton:hover { background-color: #660066; color: #ffddff; }
body.theme-oled-black-amethyst .message .timestamp { color: rgba(255, 100, 255, 0.6); }
body.theme-oled-black-amethyst .settings-nav-button.active { border-bottom-color: #ff33ff; color: #ff88ff; }
body.theme-oled-black-amethyst .settings-nav-button:hover { color: #ffaaff; }

/* Chart.js Global Font Color (applied via JS for dynamic theme changes) */
/* Chart.defaults.color = '#ccc'; // Default for dark themes */
/* Chart.defaults.borderColor = '#444'; // Default for dark themes */

/* Primary Button Styling */
.primary-button {
    background-color: #0078d4;
    color: white;
}
.primary-button:hover {
    background-color: #005a9e;
}

/* For Cyberpunk theme */
body.theme-cyberpunk-dream .primary-button {
    background-color: #00f0ff; 
    color: #0d0221;
    border: 1px solid #ff00ff;
}
body.theme-cyberpunk-dream .primary-button:hover {
    background-color: #ff00ff;
    color: #0d0221;
    box-shadow: 0 0 10px #ff00ff;
}

.settings-nav {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid #555;
}

.settings-nav-button {
    padding: 10px 15px;
    cursor: pointer;
    border: none;
    background-color: transparent;
    color: #ccc;
    font-size: 1em;
    border-bottom: 2px solid transparent; /* For active state */
}

.settings-nav-button.active {
    color: #fff;
    border-bottom: 2px solid var(--primary-accent-color, #4CAF50); /* Use theme variable or default */
}

.settings-nav-button:hover {
    background-color: #444;
}

.settings-content {
    display: none; /* Hidden by default */
}

.settings-content.active-settings-content {
    display: block; /* Show active content */
}

.log-display-area {
    background-color: #222;
    color: #ddd;
    padding: 15px;
    border-radius: 5px;
    height: 400px; /* Or whatever height you prefer */
    overflow-y: auto;
    white-space: pre-wrap; /* To wrap long lines and preserve formatting */
    word-break: break-all;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.9em;
    border: 1px solid #444;
}

#refreshLogsButton {
    margin-bottom: 10px;
    padding: 8px 12px;
    background-color: #555;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

#refreshLogsButton:hover {
    background-color: #666;
}

/* ...rest of your styles... */